<div class="page-background">
  <main class="portfolio-container">

    <header class="hero-section">
      <div class="profile-img-wrapper">
        <img [src]="profileImageBase64" alt="Foto de Miguel Román" class="profile-img">
        <div class="status-badge"></div>
      </div>

      <h1 class="name">{{ personalInfo.name }}</h1>
      <h2 class="title">{{ personalInfo.title }}</h2>

      <div class="contact-info">
        <a class="contact-pill" href="mailto:{{ personalInfo.email }}">
          <mat-icon>email</mat-icon> Email
        </a>
        <a class="contact-pill" href="tel:{{ personalInfo.phone }}">
          <mat-icon>phone</mat-icon> Teléfono
        </a>
        <span class="contact-pill location">
          <mat-icon>location_on</mat-icon> {{ personalInfo.location }}
        </span>
      </div>

      <div class="hero-statement">
        <p class="statement-text">{{ personalInfo.summary }}</p>

        <a mat-flat-button class="cv-button" [href]="'assets/' + personalInfo.cvUrl" [attr.download]="personalInfo.cvUrl" target="_blank" rel="noopener noreferrer">
          <mat-icon>download</mat-icon> DESCARGAR CV / PDF
        </a>
      </div>
    </header>

    <mat-divider class="custom-divider"></mat-divider>

    <section class="section highlighted-project">
      <h3 class="mono-title">[ PROYECTO_DESTACADO ]</h3>
      <h2 class="project-name">{{ highlightedProject.name }}</h2>

      <div class="project-grid">
        <div class="project-meta">
          <div class="meta-block">
            <h4>ROL</h4>
            <p class="bold-text">{{ highlightedProject.role }}</p>
            <p class="sub-text">{{ highlightedProject.company }}</p>
          </div>
          <div class="meta-block">
            <h4>STACK</h4>
            <ul class="tech-list">
              @for (tech of highlightedProject.stack; track tech) {
                <li><span class="symbol">✺</span> {{ tech }}</li>
              }
            </ul>
          </div>
        </div>

        <div class="project-features">
          <h4>CARACTERÍSTICAS CLAVE</h4>
          <ul class="feature-list">
            @for (feature of highlightedProject.features; track feature) {
              <li><span class="symbol">⎔</span> {{ feature }}</li>
            }
          </ul>
        </div>
      </div>
    </section>

    <section class="section skills-section">
      <h3 class="section-title"><mat-icon>code</mat-icon> Stack Tecnológico y Herramientas</h3>
      <div class="custom-chips">
        @for (skill of skills; track skill) {
          <span class="tech-chip">{{ skill }}</span>
        }
      </div>
    </section>

    <section class="section experience-section">
      <h3 class="section-title"><mat-icon>work_outline</mat-icon> Trayectoria Profesional</h3>

      <div class="experience-timeline">
        @for (job of experience; track job.company) {
          <mat-card class="experience-card appearance-outlined">
            <mat-card-header>
              <div class="card-header-content">
                <mat-card-title class="job-role">{{ job.role }}</mat-card-title>
                <span class="job-date">{{ job.date }}</span>
              </div>
              <mat-card-subtitle class="job-company">{{ job.company }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p class="job-desc">{{ job.description }}</p>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </section>

    <section class="section experience-section">
      <h3 class="section-title"><mat-icon>school</mat-icon> Formación Académica</h3>

      <div class="experience-timeline">
        @for (edu of education; track edu.title) {
          <mat-card class="experience-card appearance-outlined">
            <mat-card-header>
              <div class="card-header-content">
                <mat-card-title class="job-role">{{ edu.title }}</mat-card-title>
                <span class="job-date">{{ edu.date }}</span>
              </div>
              <mat-card-subtitle class="job-company">{{ edu.institution }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p class="job-desc">{{ edu.description }}</p>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </section>

    <section class="section">
      <h3 class="section-title"><mat-icon>verified</mat-icon> Certificaciones y Capacitaciones</h3>

      <div class="certifications-grid">
        @for (cert of certifications; track cert.title) {
          <div class="cert-item">
            <div class="cert-header">
              <span class="symbol">⎔</span>
              <h4 class="cert-title">{{ cert.title }}</h4>
            </div>
            <p class="cert-meta">{{ cert.institution }} | <span class="cert-date">{{ cert.date }}</span></p>
          </div>
        }
      </div>
    </section>

    <section class="section">
      <h3 class="section-title"><mat-icon>language</mat-icon> Idiomas</h3>

      <div class="languages-container">
        @for (lang of languages; track lang.name) {
          <div class="lang-item">
            <span class="lang-name">{{ lang.name }}</span>
            <span class="lang-level">{{ lang.level }}</span>
            <span class="lang-inst">{{ lang.institution }}</span>
          </div>
        }
      </div>
    </section>

    <footer class="cyber-footer">
      <div class="footer-grid">
        <div class="contact-block">
          <p class="mono-label">ENVIAR CORREO A_</p>
          <a href="mailto:{{ personalInfo.email }}" class="big-link">{{ personalInfo.email }}</a>
        </div>
        <div class="contact-block">
          <p class="mono-label">ENCONTRAR EN_</p>
          <div class="social-links">
            @for (link of personalInfo.socialLinks; track link.name) {
              <a [href]="link.url" target="_blank" rel="noopener noreferrer">{{ link.name }}</a>
              @if (!$last) { / }
            }
          </div>
        </div>
      </div>
      <p class="credits">✺ Diseñado y programado por {{ personalInfo.name }} | v2026</p>
    </footer>

  </main>
</div>
